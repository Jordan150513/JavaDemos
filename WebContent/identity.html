<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>获取验证码图片</title>
</head>
<body>
<img src="servlet/IdentityServlet" id="identity" onload="document.getElementById('btn').disabled = false;" />
<input type="button" value="换个图片" onclick="reloadImage()" id="btn">
<p>遇到了一个问题，换图片只能执行一次的效果，原因探究：img标签的onload属性是干啥的？
感觉是这句的原因：onload="btn.disable=false;"</p>
<p> 
img.onload是当一张图片被加载完成后所触发的事件 ,完美解决，将onload="btn.disable=false;"
改成onload="document.getElementById('btn').disabled = false;"
</p>
<script>
function reloadImage(){
	document.getElementById('btn').disabled = true;
	document.getElementById('identity').src='servlet/IdentityServlet?ts='+new Date().getTime();
}
</script>
</body>
</html>